!! remember, writing output to the screen slows process down.
!! use screen only when you need to watch the program run.
SCREEN
REWIND


***************************************************
* Use the database extension to delete any 
* existing output tables that will be created 
* if they don't already exist in the data source.
***************************************************
DataBase
DSNIN
osu526.mdb

SQLIn
drop table FVS_ATRTList
EndSQL

SQLIn
drop table FVS_BM_BKP
EndSQL

SQLIn
drop table FVS_BM_Main
EndSQL

SQLIn
drop table FVS_BM_Tree
EndSQL

SQLIn
drop table FVS_BM_Vol
EndSQL

SQLIn
drop table FVS_Cases
EndSQL

SQLIn
drop table FVS_Compute
EndSQL

SQLIn
drop table FVS_CutList
EndSQL

SQLIn
drop table FVS_EconHarvestValu
EndSQL

SQLIn
drop table FVS_EconSummary
EndSQL

SQLIn
drop table FVS_BurnReport
EndSQL

SQLIn
drop table FVS_CanProfile
EndSQL

SQLIn
drop table FVS_Carbon
EndSQL

SQLIn
drop table FVS_SnagDet
EndSQL

SQLIn
drop table FVS_Down_Wood_Cov
EndSQL

SQLIn
drop table FVS_Down_Wood_Vol
EndSQL

SQLIn
drop table FVS_Consumption
EndSQL

SQLIn
drop table FVS_Hrv_Carbon
EndSQL

SQLIn
drop table FVS_Mortality
EndSQL

SQLIn
drop table FVS_PotFire_East
EndSQL

SQLIn
drop table FVS_SnagSum
EndSQL

SQLIn
drop table FVS_Fuels
EndSQL

SQLIn
drop table FVS_DM_Spp_Sum
EndSQL

SQLIn
drop table FVS_StrClass
EndSQL


SQLIn
drop table FVS_Summary
EndSQL

SQLIn
drop table FVS_Summary_East
EndSQL

SQLIn
drop table FVS_TreeList
EndSQL


End


***************************************************
* Initialize some of the control variables 
* like the inventory year is 2011, set the time
* interval to five year intervals, and run the 
* simulator for three (3) five (5) year cycles.
***************************************************
INVYEAR         2011
NUMCYCLE           4
TIMEINT            0         5


***************************************************
* Initialize the ORGANON extension 
* to use the ORGANON shared link library
* to take over the growth of FVS
* now, include the organon keyword as an example
* parse out the organon inp header file into a 
* keyword file with options. for now, run the 
* smc version. the second version for the 
* "VERSION" is not read - it's for debugging 
* purposes only.
* convert the previous keywork file code to read the following: 
* From Erin's definition -- this is what the final is going to look like
* organon
* orginfo [version=(1,2,3)]   [even=1/uneven-aged=0]   [maxsdi_mortality=1/no maxsdi_mortality=0]
* setsite ??? ??? ??? - goes into existing keywords
* maxsdi ?? ?? ?? - goes into existing keywords
* end
!!VARIANT            2
!!EVENAGES           1        50        48  
!!SITES          121.0     121.0
!!GENETICS           0       0.9       1.3
!!MAXSDI             0     361.3     299.8     135.9    
!!SNC                0       3.5        
!!HDCALIB          1.2	   1.0	    1.05	   0.8	    0.85	   1.0	    1.25	
!!                 1.0       1.0	    0.85	   1.0       1.0       1.0     
!!CRCALIB          1.2	   1.0	    1.05	   0.8	    0.85	   1.0	    1.25	
!!                 1.0       1.0	    0.85	   1.0       1.0       1.0     
!!DGCALIB          1.2	   1.0	    1.05	   0.8	    0.85	   1.0	    1.25	
!!                 1.0       1.0	    0.85	   1.0       1.0       1.0     

***************************************************
ORGANON
!!                 1         1         1         1         1         1         1
ORGINFO            2         1         1  
ORGVOLS         10.0      12.0      32.0
END


!! part of the partial extensions.
!! variant costs? -- 

***************************************************
* Use the database extension to initialize the data
* This example only reads the data from the 
* database for OSU526 plots
***************************************************
Database
DSNIn
osu526.mdb


StandSQL
SELECT * 
FROM FVS_StandInit 
WHERE Stand_CN= 'OSU526'
EndSQL


TreeSQL
SELECT * 
FROM FVS_TreeInit 
WHERE Stand_CN= 'OSU526'
EndSQL
END


!! turn of the calibrations
NOCALIB

!! turn off trippling
NOTRIPLE

!! turn off automatic generation of establishment model (no ingrowth)
NOAUTOES

!! the organon extension also invokes the following keywords:

!! READCORD -- 
!! READCORH -- 
!! READCORC -- keyword for crown growth - use existing template.


!! HTGROWTHCALIB

!HG_CALIB(1to13)		1	1	1	1	1	1	1	1	1	1	1	1	1
!CG_CALIB(1to13)		1	1	1	1	1	1	1	1	1	1	1	1	1
!DG_CALIB(1to13)		1	1	1	1	1	1	1	1	1	1	1	1	1
!SITE_INDEX(1to13)	100.1	80	0	0	0	0	0	0	0	0	0	0	0
!MAX_SDI(1to13)		275												


!! how would this translate to suppose. 


!! fvs calibrations
!! fvs has hd calibs - NOHEIGHTDUB
!! base keyword???
!! 


!	!! assign the INDS (indicators?) variables.
!	!! these are all 1 to set to true, 0 to set to false.
!	INDS(1)		= 0 ! use height/dbh calibration
!	INDS(2)		= 0 ! use crown ratio calibration
!	INDS(3)		= 0 ! use diameter growth rate calibration
!	INDS(4)		= 1 ! 1=stand is even aged, 0=uneven aged
!	INDS(5)		= 0 ! trippling
!	INDS(6)		= 0 ! stand has been pruned
!	INDS(7)		= 0 ! stand has been thinned
!	INDS(8)		= 0 ! stand has been fertilized
!	INDS(9)		= 1 ! use limit of max sdi
!	INDS(10)	= 0 ! wood quality variables are being computed.
!	INDS(11)	= 0 ! ingrowth was added at start of growth cycle
!	INDS(12)	= 0 ! overstory trees were removed at start of current cycle
!	INDS(13)	= 0 ! major conifer trees were cut at beinning of cycle
!	INDS(14)	= 0 ! planted with genetic improved stock
!	INDS(15)	= 0 ! is infected with Swiss needle cast

! opps - forgot to turn these off.
!PRUNING -- ?
!PRUNE -- 

***************************************************
* Turn on the debugging output in FVS
***************************************************
DEBUG              0         1


***************************************************
* Turn on and initialize the economics extension 
***************************************************
!ECON
!END

***************************************************
* Initialized the climate extension 
* and turns on the output for several reports
***************************************************
!Climate
!ClimRept
!End

***************************************************
* Perform a very simple thinning.
* This code is here as a test.
* This needs to match the results that come 
* out of organon
***************************************************
*THINBBA         2016      100.


***************************************************
* Calculates the uncorrected canopy cover percent 
* Canopy cover corrections were computed using eqns
* in Crookston and Stage (1999).
***************************************************
Compute            0
UNCC = -100 * Alog(1-(Spmcdbh(7,All,0,0,999,0,999,0)/100))
End

***************************************************
* Write out the output tables to the database.
***************************************************
*The following text sends the Treelist and Cutlist Tables to a database.
!!                 1         1         1         1         1         1         1
DataBase
DSNOut
osu526.mdb

!Compute
!Summary
!treelist
!cutlist
!StrClass
!MORTREPT
!potfire
!fuelsout
!burnrept

!Potfire            1
!FuelsOut           1
!BurnRept           1
!MortRept           1
!FuelRept           1
!SnagSum            1

* these are the file models that need to get 
* into the database. they are controlled from below.
!!Potfire 
!!FuelOut 
!!BurnRept
!!MortRept
!!FuelRept
!!SnagSum   


ATRTLIST
BURNREPT
CARBRPTS
COMPUTE
CUTLIST
DWDCVOUT
DWDVLOUT
ECONRPTS
FUELREPT
FUELSOUT
!!MISRPTS
MORTREPT
POTFIRE
!!PPBMBKP
!!PPBMMAIN
!!PPBMTREE
!!PPBMVOL
SNAGOUT
SNAGSUM
STRCLASS
SUMMARY
TREELIST

!! new ffe report for soil heating. - doesn't work
SOILHEAT

End

***************************************************
* Initialized the stand visualization system
* and turns on the output for several reports
***************************************************
SVS

***************************************************
* output standard summary file (*.sum)
***************************************************
ECHOSUM


***************************************************
* You also need to include the additional output
* entries in the keyword file to make sure 
* the database table reports are generated.
***************************************************
ATRTLIST  0
BURNREPT  0
CARBRPTS  0
!!COMPUTE   0 -- if this line isn't commented, then the fvs table compiler throws an error
!!              -- it thinks you're creating a new compute statement (multiple ones per file?)
!!              -- and the addfile doesn't work (grrr). 
CUTLIST   0
DWDCVOUT  0
DWDVLOUT  0
ECONRPTS  0
FUELREPT  0
FUELSOUT  0
!!MISRPTS   0
MORTREPT  0
POTFIRE   0
!!PPBMBKP   0
!!PPBMMAIN  0
!!PPBMTREE  0
!!PPBMVOL   0
SNAGOUT   0
SNAGSUM   0
STRCLASS  0
!!SUMMARY   0 -- this keyword == ECHOSUM for the output
TREELIST  0
SOILHEAT !! new ffe report for soil heating. it doesn't work


process



stop





